# 開発フェーズ＆チケット一覧

以下のようにフェーズごとにチケットを分割すると、並行開発や担当の切り分けがしやすくなります。

## 🚩 フェーズ１：プロジェクト基盤＆PoC 準備

**状態表示:** 完了(✔)／未着手( )

| チケット番号 | タイトル                             | 概要                                                       | 担当目安         | 状態 |
|:-----------:|:------------------------------------|:----------------------------------------------------------|:----------------|:----:|
| 1–1         | リポジトリ構成設計                  | ディレクトリ構成・モジュール分割方針をドキュメント化        | PM／アーキテクト | ✔️   |
| 1–2         | Docker イメージ／ローカル環境整備    | Dockerfile／docker-compose／依存ライブラリのインストール   | infra           | ✔️   |
| 1–3         | CI/CD パイプライン骨格構築          | GitHub ActionsやGitLab CIでビルド＆基本テスト自動化         | infra           | ✔️   |
| 1–4         | Lint／Formatter／Pre-commit 設定    | Black／isort／flake8などの設定と動作確認                   | infra           | ✔️   |

## 🚩 フェーズ２：注文抽出（OCR＋LLM）PoC

**状態表示:** 完了(✔)／未着手( )

| チケット番号 | タイトル                                       | 概要                                                                                   | 担当目安   | 状態 |
|:-----------:|:----------------------------------------------|:--------------------------------------------------------------------------------------|:----------|:----:|
| 2–1         | メール受信インターフェース（スタブ実装）      | テスト用に「メール受信データ（添付PDF／本文）」を読み込むスタブモジュール            | backend   | ✔️   |
| 2–2         | OCR処理モジュール（Tesseract／スタブ）        | Tesseract呼び出しラッパー実装と出力仕様定義                                           | backend   | ✔️   |
| 2–3         | LLM抽出プロンプト設計＆呼び出しラッパー       | OpenAI GPT-4oへのプロンプト雛形設計とレスポンスパース処理                             | backend   | ✔️   |
| 2–4         | 構造化データ変換コンポーネント               | LLMレスポンス(JSON) → 注文オブジェクト変換ロジック                                   | backend   | ✔️   |
| 2–5         | 単体テスト＆サンプルデータ作成               | OCR／LLMスタブ＋サンプル注文メッセージでユニットテスト                               | backend   | ✔️   |

## 🚩 フェーズ３：Slack承認ワークフロー実装

**状態表示:** 完了(✔)／未着手( )

| チケット番号 | タイトル                                       | 概要                                                                                   | 担当目安        | 状態 |
|:-----------:|:----------------------------------------------|:--------------------------------------------------------------------------------------|:---------------|:----:|
| 3–1         | Slack Bot基盤セットアップ                    | Bolt for Python初期設定／OAuthスコープ設定／イベント受信用エンドポイント配置          | infra／backend | ✔️   |
| 3–2         | 注文通知メッセージフォーマット設計           | Block Kitによる注文通知メッセージフォーマット設計とpayloadビルダー実装               | backend        | ✔️   |
| 3–2         | 注文通知メッセージフォーマット設計           | 仕様書に沿ったBlock Kitメッセージ雛形作成                                            | backend           |
| 3–3         | 承認／差し戻しボタンハンドラ実装             | interactiveコンポーネント受信→ステータス更新処理                                      | backend           |
| 3–4         | Slack上の状態管理（承認者記録・ログ取得）    | 承認者情報やタイムスタンプを保持し、Slack上に反映                                      | backend           |
| 3–5         | E2Eテスト（モックSlack API）                | Slack SDKモックによる自動テスト                                                      | backend／qa       |

## 🚩 フェーズ４：Notion連携＆在庫更新・DB登録

| チケット番号 | タイトル                                       | 概要                                                                                   | 担当目安         |
|:-----------:|:----------------------------------------------|:--------------------------------------------------------------------------------------|:----------------|
| 4–1         | Notion APIクライアントラッパー実装           | products/customers/orders各エンドポイント呼び出し基盤                                 | backend         |
| 4–2         | 在庫参照＆残数チェックロジック               | productsテーブルから在庫数取得・不足判定                                              | backend         |
| 4–3         | 注文登録／在庫更新トランザクション処理       | orders登録＋productsのstockマイナス更新を原子性を保って実装                            | backend         |
| 4–4         | Notion連携の単体テスト                       | Notion APIのモックを使ったユニットテスト                                               | backend／qa     |
| 4–5         | 差し戻し時の自動返信メール（オプション）      | 差し戻し理由を組み込んだメールテンプレート作成／送信                                   | backend         |

## 🛠 今後のフェーズ（参考）

1. フェーズ５：自動返信（メール／LINE）
2. フェーズ６：RAGを使った表記揺れ補正
3. フェーズ７：外部ECシステム連携（Shopify／BASE）
4. フェーズ８：本番環境デプロイ＆監視設定
