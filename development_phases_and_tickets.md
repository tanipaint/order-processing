# 開発フェーズ＆チケット一覧

以下のようにフェーズごとにチケットを分割すると、並行開発や担当の切り分けがしやすくなります。

## 🚩 フェーズ１：プロジェクト基盤＆PoC 準備

**状態表示:** 完了(✔)／未着手( )

| チケット番号 | タイトル                          | 概要                                                     | 担当目安         | 状態 |
| :----------: | :-------------------------------- | :------------------------------------------------------- | :--------------- | :--: |
|     1–1      | リポジトリ構成設計                | ディレクトリ構成・モジュール分割方針をドキュメント化     | PM／アーキテクト |  ✔️  |
|     1–2      | Docker イメージ／ローカル環境整備 | Dockerfile／docker-compose／依存ライブラリのインストール | infra            |  ✔️  |
|     1–3      | CI/CD パイプライン骨格構築        | GitHub Actions や GitLab CI でビルド＆基本テスト自動化   | infra            |  ✔️  |
|     1–4      | Lint／Formatter／Pre-commit 設定  | Black／isort／flake8 などの設定と動作確認                | infra            |  ✔️  |

## 🚩 フェーズ２：注文抽出（OCR ＋ LLM）PoC

**状態表示:** 完了(✔)／未着手( )

| チケット番号 | タイトル                                 | 概要                                                                       | 担当目安 | 状態 |
| :----------: | :--------------------------------------- | :------------------------------------------------------------------------- | :------- | :--: |
|     2–1      | メール受信インターフェース（スタブ実装） | テスト用に「メール受信データ（添付 PDF／本文）」を読み込むスタブモジュール | backend  |  ✔️  |
|     2–2      | OCR 処理モジュール（Tesseract／スタブ）  | Tesseract 呼び出しラッパー実装と出力仕様定義                               | backend  |  ✔️  |
|     2–3      | LLM 抽出プロンプト設計＆呼び出しラッパー | OpenAI GPT-4o へのプロンプト雛形設計とレスポンスパース処理                 | backend  |  ✔️  |
|     2–4      | 構造化データ変換コンポーネント           | LLM レスポンス(JSON) → 注文オブジェクト変換ロジック                        | backend  |  ✔️  |
|     2–5      | 単体テスト＆サンプルデータ作成           | OCR／LLM スタブ＋サンプル注文メッセージでユニットテスト                    | backend  |  ✔️  |

## 🚩 フェーズ３：Slack 承認ワークフロー実装

**状態表示:** 完了(✔)／未着手( )

| チケット番号 | タイトル                                   | 概要                                                                           | 担当目安       | 状態 |
| :----------: | :----------------------------------------- | :----------------------------------------------------------------------------- | :------------- | :--: |
|     3–1      | Slack Bot 基盤セットアップ                 | Bolt for Python 初期設定／OAuth スコープ設定／イベント受信用エンドポイント配置 | infra／backend |  ✔️  |
|     3–2      | 注文通知メッセージフォーマット設計         | Block Kit による注文通知メッセージフォーマット設計と payload ビルダー実装      | backend        |  ✔️  |
|     3–2      | 注文通知メッセージフォーマット設計         | 仕様書に沿った Block Kit メッセージ雛形作成                                    | backend        |  ✔️  |
|     3–3      | 承認／差し戻しボタンハンドラ実装           | interactive コンポーネント受信 → ステータス更新処理                            | backend        |  ✔️  |
|     3–4      | Slack 上の状態管理（承認者記録・ログ取得） | 承認者情報やタイムスタンプを保持し、Slack 上に反映                             | backend        |
|     3–5      | E2E テスト（モック Slack API）             | Slack SDK モックによる自動テスト                                               | backend／qa    |  ✔️  |

## 🚩 フェーズ４：Notion 連携＆在庫更新・DB 登録

| チケット番号 | タイトル                                                | 概要                                                             | 担当目安    |
| :----------: | :------------------------------------------------------ | :--------------------------------------------------------------- | :---------- | --- |
|     4–1      | Notion API クライアントラッパー実装                     | products/customers/orders 各エンドポイント呼び出し基盤           | backend     | ✔️  |
|     4–2      | 在庫参照＆残数チェックロジック                          | products テーブルから在庫数取得・不足判定                        | backend     | ✔️  |
|     4–3      | 注文登録／在庫更新トランザクション処理                  | orders 登録＋ products の stock マイナス更新を原子性を保って実装 | backend     | ✔️  |
|     4–4      | Notion 連携の単体テスト                                 | Notion API のモックを使ったユニットテスト                        | backend／qa | ✔️  |
|     4–5      | 差し戻し時の自動返信メール（オプション）                | 差し戻し理由を組み込んだメールテンプレート作成／送信             | backend     |
|     4–6      | products テーブルへのサンプル商品一括登録スクリプト実装 | products データを Notion に自動投入するスクリプト                | backend     | ✔️  |

## 🛠 今後のフェーズ（参考）

1. フェーズ５：自動返信（メール／LINE） ✔️
2. フェーズ６：RAG を使った表記揺れ補正
3. フェーズ７：外部 EC システム連携（Shopify／BASE）
4. フェーズ８：本番環境デプロイ＆監視設定
